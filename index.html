<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì”í˜¹í˜„ì‹¤ ì•„ì¹´ë°ë¯¸</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- Font Definition : KimJeongcheolMyoungjo --- */
        @font-face {
            font-family: 'KimJeongcheolMyoungjo';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2302_01@1.0/KimjungchulMyungjo-Light.woff2') format('woff2');
            font-weight: 300;
            font-display: swap;
        }
        @font-face {
            font-family: 'KimJeongcheolMyoungjo';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2302_01@1.0/KimjungchulMyungjo-Regular.woff2') format('woff2');
            font-weight: 400;
            font-display: swap;
        }
        @font-face {
            font-family: 'KimJeongcheolMyoungjo';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2302_01@1.0/KimjungchulMyungjo-Bold.woff2') format('woff2');
            font-weight: 700;
            font-display: swap;
        }

        /* --- CSS Reset & Variables --- */
        :root {
            --bg-color: #0a0a0b;
            --text-main: #e0e0e0;
            --text-muted: #888;
            --accent-gold: #c5a059;
            --border-color: rgba(255, 255, 255, 0.15);
            --font-title: 'Cinzel', 'KimJeongcheolMyoungjo', serif;
            --font-body: 'KimJeongcheolMyoungjo', serif;
            --card-height: 480px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: var(--font-body);
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* --- Noise Overlay --- */
        .noise-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 900;
            opacity: 0.05;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        /* --- Loading Screen --- */
        #loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
            background-color: #000; z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 1s ease-out;
        }
        .loader-title {
            font-family: var(--font-title); font-size: 1.5rem; letter-spacing: 5px;
            color: var(--accent-gold); margin-bottom: 2rem; text-transform: uppercase;
        }
        .progress-container {
            width: 80%; max-width: 400px; height: 2px; background: #333; position: relative;
        }
        .progress-bar {
            height: 100%; background: var(--text-main); width: 0%;
            transition: width 0.1s linear; box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        .loading-text {
            margin-top: 10px; font-size: 0.8rem; color: var(--text-muted); font-style: italic;
        }
        #enterBtn {
            display: none; margin-top: 30px;
            padding: 10px 30px; border: 1px solid var(--accent-gold);
            background: transparent; color: var(--accent-gold);
            font-family: var(--font-title); font-size: 1rem; cursor: pointer;
            transition: 0.3s;
            animation: fadeIn 0.5s;
        }
        #enterBtn:hover { background: var(--accent-gold); color: #000; }

        /* --- Audio Control --- */
        .audio-control {
            position: fixed; bottom: 20px; left: 20px; z-index: 1000;
            color: #555; cursor: pointer; font-size: 0.8rem; border: 1px solid #333;
            padding: 5px 10px; border-radius: 20px; background: rgba(0,0,0,0.5);
            transition: 0.3s;
        }
        .audio-control:hover { color: var(--accent-gold); border-color: var(--accent-gold); }

        /* --- Main Layout --- */
        main {
            max-width: 1200px; margin: 0 auto; padding: 0 20px;
            position: relative; z-index: 10; opacity: 0; transition: opacity 1.5s ease-in;
        }

        .section-title {
            font-family: var(--font-title); font-size: 2rem; text-align: center;
            margin: 6rem 0 3rem; color: var(--text-main);
        }
        .section-title::after {
            content: ''; display: block; width: 50px; height: 1px; 
            background: var(--accent-gold); margin: 1rem auto;
        }

        /* --- Faction Tabs --- */
        .faction-tabs {
            display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem; margin-bottom: 3rem;
        }
        .tab-btn {
            background: none; border: 1px solid var(--border-color); color: var(--text-muted);
            padding: 10px 20px; cursor: pointer; font-family: var(--font-title); font-size: 1rem;
            transition: 0.3s;
        }
        .tab-btn:hover, .tab-btn.active {
            color: var(--bg-color); background-color: var(--accent-gold); border-color: var(--accent-gold);
        }

        /* --- Character Grid --- */
        .character-container {
            display: none;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            animation: fadeIn 0.5s ease-out;
        }
        .character-container.active { display: grid; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- 3D FLIP CARD CSS --- */
        .char-card-scene {
            background-color: transparent; height: var(--card-height); perspective: 1000px;
        }
        .char-card-inner {
            position: relative; width: 100%; height: 100%; text-align: center;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d; box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            cursor: pointer;
        }
        /* Flip Action */
        .char-card-scene.flipped .char-card-inner {
            transform: rotateY(180deg);
            box-shadow: 0 0 20px var(--accent-gold), 0 0 40px rgba(197, 160, 89, 0.4);
        }

        .card-face {
            position: absolute; width: 100%; height: 100%;
            -webkit-backface-visibility: hidden; backface-visibility: hidden;
            border: 1px solid var(--border-color);
            display: flex; flex-direction: column; overflow: hidden; background: #111;
        }

        /* --- Front Face --- */
        .card-front { background: #111; z-index: 2; }
        
        .char-portrait {
            height: 220px;
            background-color: #000;
            background-size: cover;
            background-position: top center;
            background-repeat: no-repeat;
            border-bottom: 1px solid var(--border-color);
            position: relative;
        }
        /* Overlay gradient for text readability if needed */
        .char-portrait::after {
            content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 30%;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
        }

        .char-info { padding: 1.5rem; text-align: left; flex: 1; display: flex; flex-direction: column; }
        .char-name { font-size: 1.4rem; font-weight: 700; color: #fff; margin-bottom: 0.2rem; }
        .char-role { font-size: 0.8rem; color: var(--accent-gold); margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px; }
        .char-traits { display: flex; flex-wrap: wrap; gap: 5px; margin-bottom: 1rem; }
        .trait-tag { font-size: 0.7rem; padding: 2px 6px; border: 1px solid #333; color: #888; }
        .char-desc { font-size: 0.9rem; color: #aaa; margin-bottom: 1rem; line-height: 1.5; font-weight: 300; }
        .char-quote { font-style: italic; font-size: 0.85rem; color: #fff; padding-left: 10px; border-left: 2px solid var(--accent-gold); margin-top: auto; font-weight: 300; }

        /* --- Back Face --- */
        .card-back {
            background: #0f0f0f; transform: rotateY(180deg);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            padding: 20px; border: 2px solid var(--accent-gold);
        }
        
        .tarot-border {
            border: 1px solid rgba(197, 160, 89, 0.3); width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            background: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23c5a059' fill-opacity='0.05' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E");
        }

        .tarot-number {
            font-family: var(--font-title); font-size: 1.5rem; color: var(--accent-gold);
            margin-bottom: 1rem; letter-spacing: 2px;
        }

        .tarot-image-placeholder {
            width: 120px; height: 180px; border: 1px solid var(--accent-gold);
            margin-bottom: 1.5rem; display: flex; align-items: center; justify-content: center;
            color: var(--accent-gold); font-size: 3rem;
            background: rgba(197, 160, 89, 0.1); box-shadow: 0 0 15px rgba(197, 160, 89, 0.2);
        }

        .tarot-name {
            font-family: var(--font-title); font-size: 1.2rem; text-transform: uppercase;
            color: #fff; letter-spacing: 2px; border-top: 1px solid #444; padding-top: 10px;
            width: 80%; text-align: center;
        }
        
        /* Expand Button on Back */
        .expand-btn {
            margin-top: 1rem;
            padding: 5px 15px;
            border: 1px solid var(--accent-gold);
            background: transparent;
            color: var(--accent-gold);
            font-family: var(--font-title);
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
        }
        .expand-btn:hover {
            background: var(--accent-gold); color: #000;
        }
        
        .click-hint {
            font-size: 0.7rem; color: #555; margin-top: 10px; opacity: 0.7; font-weight: 300;
        }

        /* --- Modal (Expansion) --- */
        #cardModal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 9999;
            justify-content: center; align-items: center; flex-direction: column;
            animation: modalFadeIn 0.3s forwards;
        }
        @keyframes modalFadeIn { from {opacity: 0;} to {opacity: 1;} }

        .modal-content {
            position: relative; width: 320px; height: 520px; background: #111;
            border: 2px solid var(--accent-gold); box-shadow: 0 0 50px rgba(197, 160, 89, 0.5);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transform: scale(0.8); animation: modalPop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }
        @keyframes modalPop { to { transform: scale(1.1); } }

        .close-modal {
            margin-top: 2rem; color: #fff; font-family: var(--font-title);
            cursor: pointer; border-bottom: 1px solid #fff; font-size: 0.9rem;
        }

        /* --- Mobile Responsive --- */
        @media (max-width: 768px) {
            .hero h1 { font-size: 2rem; }
            .modal-content { transform: scale(0.8) !important; animation: none; width: 85%; height: 60vh; }
        }
    </style>
</head>
<body>

    <div class="noise-overlay"></div>
    
    <!-- Audio Element -->
    <audio id="bgm" loop>
        <source src="https://poft.uk/leets/z/f--kreal.mp3" type="audio/mp3">
    </audio>
    <div class="audio-control" onclick="toggleAudio()" id="audioBtn">Music: OFF</div>

    <!-- Intro Loading Screen -->
    <div id="loader">
        <div class="loader-title">Tales Academy</div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="loading-text" id="loadingText">Initializing System... 0%</div>
        <button id="enterBtn" onclick="enterSite()">ENTER ACADEMY</button>
    </div>

    <!-- Main Content -->
    <main id="mainContent">
        <!-- Hero Section -->
        <section style="height: 60vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; border-bottom: 1px solid var(--border-color);">
            <h2 style="font-family: var(--font-title); color: var(--accent-gold); letter-spacing: 0.5em;">Tales Academy</h2>
            <h1 style="font-size: 3rem; background: linear-gradient(to bottom, #fff, #999); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">ì”í˜¹í˜„ì‹¤ ì•„ì¹´ë°ë¯¸</h1>
            <p style="color: #888; margin-top: 1rem; font-style: italic; font-weight: 300;">"ì¹´ë“œë¥¼ ë’¤ì§‘ì–´ ê·¸ë“¤ì˜ ìš´ëª…ì„ í™•ì¸í•˜ì„¸ìš”."</p>
        </section>

        <!-- Character Section -->
        <section id="characters">
            <h2 class="section-title">ë™ì•„ë¦¬&í•™ìƒ</h2>
            
            <div class="faction-tabs">
                <button class="tab-btn active" onclick="openTab('andersen')">ì•ˆë°ë¥´ì„¼ í™”ì´íŠ¸</button>
                <button class="tab-btn" onclick="openTab('unknown')">ì–¸ë…¸ìš´</button>
                <button class="tab-btn" onclick="openTab('haetae')">í•´íƒœ</button>
                <button class="tab-btn" onclick="openTab('gift')">GiFT</button>
                <button class="tab-btn" onclick="openTab('wild')">ì™€ì¼ë“œ íŒ¨ëŸ¬ë¸”</button>
            </div>

            <!-- Andersen White -->
            <div id="andersen" class="character-container active">
                <!-- Solan -->
                <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/a.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">ì†”ë Œ</div>
                                <div class="char-role">ì„ ë´‰ëŒ€ì¥ / ë¯¸ìš´ ì˜¤ë¦¬ ìƒˆë¼</div>
                                <div class="char-traits"><span class="trait-tag">INFJ</span><span class="trait-tag">ê²°ë²½ì¦</span></div>
                                <p class="char-desc">ìˆœë°±ì˜ êµ°ë³µì„ ì…ì€ ì°¨ê°€ìš´ ë¦¬ë”. ë¶ˆìˆœí•œ ê²ƒì„ ìš©ë‚©í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>
                                <p class="char-quote">"ê·¸ê²ƒì€... ë¶ˆìˆœí•˜ë„¤ìš”. ì´ê²ƒì´ í‰í™”ë‹ˆê¹Œ."</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">XX</div>
                                <div class="tarot-image-placeholder">âš–ï¸</div>
                                <div class="tarot-name">Judgement</div>
                                <button class="expand-btn" onclick="expandCard(event, 'XX. JUDGEMENT', 'ì†”ë Œ')">View Card</button>
                                <div class="click-hint">Click background to flip back</div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Eira -->
                <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/b.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">ì—ì´ë¼</div>
                                <div class="char-role">ì°¸ëª¨ / ëˆˆì˜ ì—¬ì™•</div>
                                <div class="char-traits"><span class="trait-tag">INTJ</span><span class="trait-tag">ì˜¤ë§Œ</span></div>
                                <p class="char-desc">ì°¨ê°€ìš´ ì§€ì„±ê³¼ ë²”ì ‘í•  ìˆ˜ ì—†ëŠ” ì˜¤ë§Œí•¨.</p>
                                <p class="char-quote">"ë‹¹ì‹ ì˜ ê°€ì¹˜ëŠ”... ì •ë§ ë¬´ê°€ì¹˜í•˜ë„¤ìš”."</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">II</div>
                                <div class="tarot-image-placeholder">ğŸŒ™</div>
                                <div class="tarot-name">High Priestess</div>
                                <button class="expand-btn" onclick="expandCard(event, 'II. HIGH PRIESTESS', 'ì—ì´ë¼')">View Card</button>
                            </div>
                        </div>
                    </div>
                </div>
                 <!-- Ria -->
                 <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/c.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">ë¦¬ì•„</div>
                                <div class="char-role">ëŒê²©ë³‘ / ë¹¨ê°„ êµ¬ë‘</div>
                                <div class="char-traits"><span class="trait-tag">ESFP</span><span class="trait-tag">ê´‘ê¸°</span></div>
                                <p class="char-desc">ë©ˆì¶”ì§€ ì•Šê³  ì¶¤ì¶”ëŠ” íŒŒë©¸ì ì¸ ì—ë„ˆì§€.</p>
                                <p class="char-quote">"ì•„í•˜í•˜! ë” ë¹¨ë¦¬! ê³„ì†!"</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">XV</div>
                                <div class="tarot-image-placeholder">ğŸ˜ˆ</div>
                                <div class="tarot-name">The Devil</div>
                                <button class="expand-btn" onclick="expandCard(event, 'XV. THE DEVIL', 'ë¦¬ì•„')">View Card</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Estelle -->
                <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/d.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">ì—ìŠ¤í…”</div>
                                <div class="char-role">ì§€ì›ë³‘ / ì„±ëƒ¥íŒ”ì´ ì†Œë…€</div>
                                <div class="char-traits"><span class="trait-tag">INFP</span><span class="trait-tag">í¬ìƒ</span></div>
                                <p class="char-desc">ì–´ë‘  ì†ì—ì„œ íƒ€ì˜¤ë¥´ëŠ” ì‘ì€ í¬ë§ì˜ ë¶ˆê½ƒ.</p>
                                <p class="char-quote">"ë”°ëœ»í•œ.. ë¶ˆê½ƒ.. í•„ìš”í•´.."</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">XVII</div>
                                <div class="tarot-image-placeholder">â­</div>
                                <div class="tarot-name">The Star</div>
                                <button class="expand-btn" onclick="expandCard(event, 'XVII. THE STAR', 'ì—ìŠ¤í…”')">View Card</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Unknown -->
            <div id="unknown" class="character-container">
                <!-- Mugyeol -->
                <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/e.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">ë¬´ê²°</div>
                                <div class="char-role">ë¦¬ë” / ì´ë¬´ê¸°</div>
                                <div class="char-traits"><span class="trait-tag">ENTJ</span><span class="trait-tag">ì§€ë°°</span></div>
                                <p class="char-desc">ìš©ì´ ë˜ë ¤ëŠ” ê°•í•œ ê¶Œë ¥ ì˜ì§€ì™€ ë¦¬ë”ì‹­.</p>
                                <p class="char-quote">"ë¹„ì¼œ. ë°©í•´í•˜ë©´ ë°•ì‚´ë‚¸ë‹¤."</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">IV</div>
                                <div class="tarot-image-placeholder">ğŸ‘‘</div>
                                <div class="tarot-name">The Emperor</div>
                                <button class="expand-btn" onclick="expandCard(event, 'IV. THE EMPEROR', 'ë¬´ê²°')">View Card</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Papa -->
                <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/f.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">íŒŒíŒŒ</div>
                                <div class="char-role">ì •ì°°ë³‘ / ê°“íŒŒ</div>
                                <div class="char-traits"><span class="trait-tag">ISTP</span><span class="trait-tag">ê³ ë¦½</span></div>
                                <p class="char-desc">ê¸°ê³„ë¥¼ ë‹¤ë£¨ëŠ” ë‚´í–¥ì ì¸ ì€ë‘”ì.</p>
                                <p class="char-quote">"ê·€ì°®ì•„.. ë©”ì‹œì§€ë‚˜ í™•ì¸í•´."</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">IX</div>
                                <div class="tarot-image-placeholder">ğŸ”¦</div>
                                <div class="tarot-name">The Hermit</div>
                                <button class="expand-btn" onclick="expandCard(event, 'IX. THE HERMIT', 'íŒŒíŒŒ')">View Card</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Nesia -->
                <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/g.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">ë„¤ì‹œì•„</div>
                                <div class="char-role">ì ì…ì› / ë„¤ìŠ¤</div>
                                <div class="char-traits"><span class="trait-tag">ISFP</span><span class="trait-tag">ë¶ˆì•ˆ</span></div>
                                <p class="char-desc">ì•ˆê°œ ì†ì— ìˆ¨ê²¨ì§„ ë¯¸ìŠ¤í„°ë¦¬.</p>
                                <p class="char-quote">"ë¬¼ì†ì´.. ë” í¸í•´.. ìœ¡ì§€ëŠ” ì‹œë„ëŸ¬ì›Œ.."</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">XVIII</div>
                                <div class="tarot-image-placeholder">ğŸŒ”</div>
                                <div class="tarot-name">The Moon</div>
                                <button class="expand-btn" onclick="expandCard(event, 'XVIII. THE MOON', 'ë„¤ì‹œì•„')">View Card</button>
                            </div>
                        </div>
                    </div>
                </div>
                 <!-- Leuku -->
                 <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/h.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">ë¥´ì¿ </div>
                                <div class="char-role">ì „íˆ¬ì› / ë‹¤ë¥´ì¿ </div>
                                <div class="char-traits"><span class="trait-tag">ESTP</span><span class="trait-tag">ëŒì§„</span></div>
                                <p class="char-desc">ëª©í‘œë¥¼ í–¥í•´ ê±°ì¹¨ì—†ì´ ëŒì§„í•˜ëŠ” ì—´í˜ˆ ì „ì‚¬.</p>
                                <p class="char-quote">"ë­ì•¼? í•œíŒ ë¶™ìëŠ” ê±°ì•¼?"</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">VII</div>
                                <div class="tarot-image-placeholder">ğŸ›’</div>
                                <div class="tarot-name">The Chariot</div>
                                <button class="expand-btn" onclick="expandCard(event, 'VII. THE CHARIOT', 'ë¥´ì¿ ')">View Card</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Haetae -->
            <div id="haetae" class="character-container">
                <!-- Cheonga -->
                <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/i.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">ì²­ì•„</div>
                                <div class="char-role">í’ê¸°ìœ„ì› / ì‹¬ì²­</div>
                                <div class="char-traits"><span class="trait-tag">ISFJ</span><span class="trait-tag">ì¸ë‚´</span></div>
                                <p class="char-desc">ë„ë¦¬ë¥¼ ì§€í‚¤ë©° ë•Œë¥¼ ê¸°ë‹¤ë¦¬ëŠ” í¬ìƒì •ì‹ .</p>
                                <p class="char-quote">"ë¬´ë¡€í•˜êµ°ìš”. ë„ë¦¬ëŠ” ì§€í‚¤ì…”ì•¼ì£ ."</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">XII</div>
                                <div class="tarot-image-placeholder">ğŸ§£</div>
                                <div class="tarot-name">The Hanged Man</div>
                                <button class="expand-btn" onclick="expandCard(event, 'XII. HANGED MAN', 'ì²­ì•„')">View Card</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Yeonhui -->
                <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/j.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">ì—°í¬</div>
                                <div class="char-role">ì—°ë½ì±… / í¥ë¶€ì™€ ë†€ë¶€</div>
                                <div class="char-traits"><span class="trait-tag">ENFJ</span><span class="trait-tag">í™”í•©</span></div>
                                <p class="char-desc">ê´€ê³„ì™€ ì†Œí†µì˜ ì¤‘ì‹¬.</p>
                                <p class="char-quote">"ì¢‹ì€ ì†Œì‹ì´ì—ìš”! ë‹¤ë“¤ ì£¼ëª©!"</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">VI</div>
                                <div class="tarot-image-placeholder">ğŸ’</div>
                                <div class="tarot-name">The Lovers</div>
                                <button class="expand-btn" onclick="expandCard(event, 'VI. THE LOVERS', 'ì—°í¬')">View Card</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- GiFT -->
            <div id="gift" class="character-container">
                <!-- Luty -->
                <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/k.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">ë£¨í‹°</div>
                                <div class="char-role">ì¶”ì ì / í—¨ì ¤ê³¼ ê·¸ë ˆí…”</div>
                                <div class="char-traits"><span class="trait-tag">ISTJ</span><span class="trait-tag">ì›ì¹™</span></div>
                                <p class="char-desc">ì •í•´ì§„ ê²½ë¡œì™€ ë‹¨ì„œë¥¼ ê³ ìˆ˜í•˜ëŠ” ë¶„ì„ê°€.</p>
                                <p class="char-quote">"ë‹¨ì„œ ë°œê²¬. ì˜¤ì°¨ ë²”ìœ„ 0.1%ì„. ì¶”ì  ì‹œì‘."</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">V</div>
                                <div class="tarot-image-placeholder">ğŸ“œ</div>
                                <div class="tarot-name">The Hierophant</div>
                                <button class="expand-btn" onclick="expandCard(event, 'V. HIEROPHANT', 'ë£¨í‹°')">View Card</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Bella -->
                <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/l.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">ë²¨ë¼</div>
                                <div class="char-role">ì§‘í–‰ì / ë¹¨ê°„ ëª¨ì</div>
                                <div class="char-traits"><span class="trait-tag">ISTP</span><span class="trait-tag">í†µì œ</span></div>
                                <p class="char-desc">ë‚´ë©´ì˜ ì•¼ìˆ˜ì„±ì„ ì œì–´í•˜ëŠ” ê³ ë…í•œ ì§‘í–‰ì.</p>
                                <p class="char-quote">"ë§ ê±¸ì§€ ë§ˆ.. ì‚¬ëƒ¥ ë°©í•´ë˜ë‹ˆê¹Œ."</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">VIII</div>
                                <div class="tarot-image-placeholder">ğŸ¦</div>
                                <div class="tarot-name">Strength</div>
                                <button class="expand-btn" onclick="expandCard(event, 'VIII. STRENGTH', 'ë²¨ë¼')">View Card</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Wild Parable -->
            <div id="wild" class="character-container">
                 <!-- Leona -->
                 <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/m.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">ë ˆì˜¤ë‚˜</div>
                                <div class="char-role">ì „íˆ¬ì› / ì‚¬ìì™€ ìƒì¥</div>
                                <div class="char-traits"><span class="trait-tag">ENFJ</span><span class="trait-tag">ê´‘íœ˜</span></div>
                                <p class="char-desc">ì‚¬ìì˜ ì™•ë‹¤ìš´ ìƒëª…ë ¥ê³¼ ë°ì€ ì—ë„ˆì§€.</p>
                                <p class="char-quote">"ë‚´ê°€ ì§€ì¼œì¤„ê²Œ. ë‚´ ë’¤ì— ë¶™ì–´."</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">XIX</div>
                                <div class="tarot-image-placeholder">â˜€ï¸</div>
                                <div class="tarot-name">The Sun</div>
                                <button class="expand-btn" onclick="expandCard(event, 'XIX. THE SUN', 'ë ˆì˜¤ë‚˜')">View Card</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Rain -->
                <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/n.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">ë ˆì¸</div>
                                <div class="char-role">ì±…ëµê°€ / ì—¬ìš°ì™€ ì‹  í¬ë„</div>
                                <div class="char-traits"><span class="trait-tag">ENTP</span><span class="trait-tag">êµí™œ</span></div>
                                <p class="char-desc">ìƒí™©ì„ ìì‹ ì—ê²Œ ìœ ë¦¬í•˜ê²Œ ë’¤íŠ¸ëŠ” ë§ˆë²•ì‚¬.</p>
                                <p class="char-quote">"í¥, ì–´ì°¨í”¼ ì‹  í¬ë„ì¼ ê²Œ ë»”í•´."</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">I</div>
                                <div class="tarot-image-placeholder">ğŸ©</div>
                                <div class="tarot-name">The Magician</div>
                                <button class="expand-btn" onclick="expandCard(event, 'I. THE MAGICIAN', 'ë ˆì¸')">View Card</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Ari -->
                <div class="char-card-scene" onclick="flipCard(this)">
                    <div class="char-card-inner">
                        <div class="card-face card-front">
                            <div class="char-portrait" style="background-image: url('https://poft.uk/leets/z/o.webp');"></div>
                            <div class="char-info">
                                <div class="char-name">ì•„ë¦¬</div>
                                <div class="char-role">ë³´ê¸‰ì› / ê°œë¯¸ì™€ ë² ì§±ì´</div>
                                <div class="char-traits"><span class="trait-tag">ISTJ</span><span class="trait-tag">ê³µì •</span></div>
                                <p class="char-desc">ì¼í•œ ë§Œí¼ ì–»ëŠ” ëƒ‰í˜¹í•œ ì¸ê³¼ì‘ë³´ ë…¼ë¦¬.</p>
                                <p class="char-quote">"íš¨ìœ¨ì´ ìš°ì„ . ë…¸ëŠ” ê±´ ì‚¬ì¹˜."</p>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="tarot-border">
                                <div class="tarot-number">XI</div>
                                <div class="tarot-image-placeholder">âš–ï¸</div>
                                <div class="tarot-name">Justice</div>
                                <button class="expand-btn" onclick="expandCard(event, 'XI. JUSTICE', 'ì•„ë¦¬')">View Card</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </section>

        <footer style="margin-top:5rem; padding-bottom:2rem; text-align:center; color:#555;">
            <p>&copy; 2024 Tales Academy. AI Character Roleplay.</p>
        </footer>
    </main>

    <!-- Modal for Expanded Card View -->
    <div id="cardModal" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="tarot-border" style="background: none;">
                <div class="tarot-number" id="modalNumber"></div>
                <div class="tarot-image-placeholder" id="modalIcon" style="font-size: 5rem; width: 200px; height: 280px;"></div>
                <div class="tarot-name" id="modalName"></div>
                <div style="margin-top:10px; color:#888; font-weight:300;" id="modalCharName"></div>
            </div>
        </div>
        <div class="close-modal" onclick="closeModal()">CLOSE</div>
    </div>

    <script>
        // --- 1. Loading & Audio System ---
        document.addEventListener('DOMContentLoaded', () => {
            const bar = document.getElementById('progressBar');
            const text = document.getElementById('loadingText');
            const enterBtn = document.getElementById('enterBtn');
            
            let width = 0;
            const interval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(interval);
                    text.innerText = "System Ready.";
                    enterBtn.style.display = 'block';
                } else {
                    width += Math.floor(Math.random() * 5) + 1; 
                    if(width > 100) width = 100;
                    bar.style.width = width + '%';
                    text.innerText = `Initializing System... ${width}%`;
                }
            }, 30);
        });

        function enterSite() {
            const loader = document.getElementById('loader');
            const main = document.getElementById('mainContent');
            const bgm = document.getElementById('bgm');
            const audioBtn = document.getElementById('audioBtn');

            // Fade out loader
            loader.style.opacity = '0';
            setTimeout(() => {
                loader.style.display = 'none';
                main.style.opacity = '1';
                
                // Try playing audio (since user interacted)
                bgm.volume = 0.4;
                bgm.play().then(() => {
                    audioBtn.innerText = "Music: ON";
                }).catch(e => {
                    console.log("Audio play blocked (user needs to interact more)");
                });
            }, 1000);
        }

        function toggleAudio() {
            const bgm = document.getElementById('bgm');
            const btn = document.getElementById('audioBtn');
            if(bgm.paused) {
                bgm.play();
                btn.innerText = "Music: ON";
            } else {
                bgm.pause();
                btn.innerText = "Music: OFF";
            }
        }

        // --- 2. Tab System ---
        function openTab(factionName) {
            const contents = document.querySelectorAll('.character-container');
            contents.forEach(con => con.classList.remove('active'));
            const buttons = document.querySelectorAll('.tab-btn');
            buttons.forEach(btn => btn.classList.remove('active'));

            document.getElementById(factionName).classList.add('active');
            
            buttons.forEach(btn => {
                if(btn.getAttribute('onclick').includes(factionName)) {
                    btn.classList.add('active');
                }
            });
        }

        // --- 3. Flip Card System ---
        function flipCard(cardElement) {
            // Main click handler flips the card
            cardElement.classList.toggle('flipped');
        }

        // --- 4. Expand Modal System ---
        function expandCard(event, tarotTitle, charName) {
            // Stop propagation so we DON'T flip the card when clicking the 'Expand' button
            event.stopPropagation();
            
            const modal = document.getElementById('cardModal');
            const parts = tarotTitle.split('. ');
            const number = parts[0];
            const name = parts[1];
            
            // Find the closest .tarot-image-placeholder relative to the button
            const cardBack = event.currentTarget.parentElement;
            const icon = cardBack.querySelector('.tarot-image-placeholder').innerText;

            document.getElementById('modalNumber').innerText = number;
            document.getElementById('modalName').innerText = name;
            document.getElementById('modalCharName').innerText = `Owner: ${charName}`;
            document.getElementById('modalIcon').innerText = icon;

            modal.style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('cardModal').style.display = 'none';
        }
    </script>
</body>
</html>
